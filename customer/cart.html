<!DOCTYPE html>
<html>
<head>
  <title>Cart</title>
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>

<div class="topbar"><b>Your Cart</b></div>

<div id="items"></div>

<div class="checkout-fixed">
  <b>Total ₹<span id="total">0</span></b>
  <button onclick="showCheckout()">Checkout</button>
</div>

<!-- CHECKOUT MODAL -->
<div id="checkoutModal" class="modal">
  <div class="modal-box">
    <h3>Checkout</h3>
    <p>Delivery: ₹20</p>
    <p>GST: 18%</p>
    <button onclick="place()">Place Order</button>
    <button class="close" onclick="hide()">Close</button>
  </div>
</div>

<script>
const cart=JSON.parse(localStorage.getItem("cart")||"[]");
let total=0;
const box=document.getElementById("items");

cart.forEach(i=>{
  total+=i.p;
  box.innerHTML+=`<div class="cart-item">${i.n} ₹${i.p}</div>`;
});
document.getElementById("total").innerText=total;

function showCheckout(){
  document.getElementById("checkoutModal").style.display="flex";
}
function hide(){
  document.getElementById("checkoutModal").style.display="none";
}
function place(){
  localStorage.removeItem("cart");
  alert("Order placed");
  location.href="home.html";
}
</script>

</body>
</html>
