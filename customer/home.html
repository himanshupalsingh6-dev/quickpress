<!DOCTYPE html>
<html>
<head>
  <title>QuickPress â€“ Home</title>
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>

<div class="header">QuickPress</div>

<div style="padding:16px">

  <!-- ADS SECTION -->
  <div id="adsBox"></div>

  <!-- HERO -->
  <div class="card" style="background:#e53935;color:#fff">
    <h2>10-Minute Ironing</h2>
    <p>Fast â€¢ Clean â€¢ Doorstep</p>
  </div>

  <!-- SERVICES -->
  <div class="card">ðŸ‘• Shirt Ironing â€“ â‚¹5 / pair</div>
  <div class="card">ðŸ‘– Pant Ironing â€“ â‚¹6 / pair</div>

</div>

<div class="bottom-nav">
  <a class="active" href="home.html">Home</a>
  <a href="orders.html">Orders</a>
  <a href="profile.html">Profile</a>
</div>

<script type="module">
  import { protectPage } from "../assets/js/guard.js";
  protectPage(["customer"]);
</script>

<script type="module">
  import { db } from "../assets/js/firebase.js";
  import {
    collection,
    getDocs
  } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

  const adsBox = document.getElementById("adsBox");

  async function loadAds() {
    const snap = await getDocs(collection(db, "ads"));
    snap.forEach(d=>{
      const ad = d.data();
      if(ad.status === "active"){
        adsBox.innerHTML += `
          <div class="card" style="background:#fff3cd">
            <b>${ad.title}</b><br>
            ${ad.text}
          </div>
        `;
      }
    });
  }

  loadAds();
</script>

</body>
</html>
